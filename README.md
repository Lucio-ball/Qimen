# 奇门遁甲工作台 (Qi Men Workbench)

一个基于PySide6开发的奇门遁甲排盘和分析工具。

## ✨ 主要功能

- 🎯 **智能排盘**: 支持精确的奇门遁甲排盘计算
- 🎨 **可视化界面**: 直观的九宫格显示和丰富的标注信息
- ⚡ **马星冲动**: 先进的马星冲墓冲空分析算法
- 🔧 **精密控制**: 多种显示选项和样式配置
- 📱 **现代UI**: 基于Qt的现代化用户界面

## 🚀 快速开始

### 环境要求
- Python 3.10+
- PySide6
- 其他依赖见requirements.txt

### 安装运行
```bash
# 克隆项目
git clone https://github.com/Lucio-ball/Qimen.git
cd Qimen

# 安装依赖
pip install -r requirements.txt

# 运行主程序
python main_integrated.py
```

## 📁 项目结构

```
Qimen/
├── core/                   # 核心排盘引擎
│   ├── paipan_engine.py   # 排盘算法实现
│   ├── models.py          # 数据模型定义
│   └── calendar_utils.py  # 历法工具
├── ui/                     # 用户界面
│   ├── windows/           # 主窗口
│   ├── widgets/           # UI组件
│   └── config.py          # 配置管理
├── docs/                   # 📚 文档和报告
│   ├── README.md          # 文档目录索引
│   ├── FEAT-*-报告.md     # 功能开发报告
│   └── 手动测试指南.md     # 测试指南
├── data.json              # 数据配置文件
├── main_integrated.py     # 集成版主程序
├── main.py               # 原版主程序
└── run_gui.py            # GUI启动器
```

## 🎯 核心特性

### 马星冲动算法 V2
- 严格按照优先级顺序：本宫入墓 > 对宫入墓 > 本宫空亡 > 对宫空亡
- 支持"冲动所有"特性，同时处理多个目标
- 智能类型映射和视觉样式标记

### 精密样式控制
- 富文本显示支持
- 删除线样式自动应用
- 垂直/横向自适应布局

## 📚 文档

详细的开发文档和报告请查看 [docs](./docs/) 文件夹：

- [功能开发报告](./docs/) - 各版本功能实现详情
- [测试指南](./docs/手动测试指南.md) - 详细的测试操作说明
- [文档索引](./docs/README.md) - 完整的文档目录

## 🔧 开发工具

### 调试分析工具
- `maxing_analyzer.py` - 马星冲动详细分析工具

### 主程序选择
- `main_integrated.py` - **推荐使用** 集成版本，功能最完整
- `main.py` - 基础版本
- `run_gui.py` - 简化启动器

## 🎨 界面预览

程序提供现代化的图形界面，包含：
- 直观的起局输入面板
- 完整的九宫格排盘显示
- 丰富的配置选项
- 实时的分析结果

## 📈 版本历史

- **V2.0** (2025.09) - 马星冲动V2算法，支持多目标冲动
- **V1.1** (2025.09) - 精密样式控制，界面优化
- **V1.0** (2025.09) - 基础排盘功能实现

## 🤝 贡献

欢迎提交Issue和Pull Request来改进项目。

## 📄 许可证

本项目采用MIT许可证 - 详见LICENSE文件

---

*最后更新: 2025年9月5日*