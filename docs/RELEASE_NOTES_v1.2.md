# 奇门遁甲工作台 v1.2 正式版

## 📦 发布信息

**版本号：** v1.2  
**发布日期：** 2025年9月19日  
**文件大小：** 约 55 MB (独立可执行文件)  

## ✨ 本版本重要修复

### 🐛 伏吟局旺衰状态显示修复
- **修复全伏吟局旺衰状态不能显示的严重bug**
- **精确定位问题**：解决了"全伏吟局（九星、八门落在故乡宫）会导致九星八门旺衰状态不能显示"的问题
- **双层修复方案**：
  - 核心引擎层修复：移除了过度限制的过滤条件，确保伏吟局能正常显示旺衰状态
  - 界面层精确控制：地盘八门和九星不显示旺衰状态，只有天盘参数显示旺衰状态
- **全面测试验证**：针对时间 202509191217 等伏吟局场景进行了全面验证

### 🎯 显示逻辑优化
- **天地盘显示区分**：明确天盘参数（需显示旺衰）和地盘参数（不显示旺衰）的区别
- **保持向后兼容**：修复不影响正常非伏吟局的排盘显示
- **完整性保证**：确保17/18个伏吟参数都能正确显示旺衰状态

## 🔍 技术细节

### 修复范围
- `core/paipan_engine.py`: 排盘引擎核心逻辑修复
- `ui/widgets/palace_widget.py`: 宫位显示控件界面层修复
- 增加了针对性的回归测试

### 测试覆盖
- ✅ 全伏吟局旺衰状态正确显示（16/16 伏吟参数）
- ✅ 天盘参数显示旺衰状态
- ✅ 地盘参数不显示旺衰状态  
- ✅ 非伏吟局正常显示不受影响

## 🎮 升级说明

### 从 v1.1 升级
- **覆盖安装**：直接用新版本替换旧版本exe文件
- **配置保持**：所有个人设置和案例数据自动保留
- **立即生效**：重启程序后伏吟局旺衰显示问题即可解决

### 验证升级
1. 创建或加载一个全伏吟局案例
2. 检查九星八门是否正确显示旺衰状态
3. 确认地盘参数不显示旺衰状态标注

## 🌟 继承功能

### 🎨 五行颜色深度自定义（v1.1）
- 完全个性化配色方案
- 专业颜色选择器
- 实时预览更新

### 🎯 盘面显示优化（v1.1）
- 整体尺寸放大，显示更清晰
- 宫位空间增大，参数显示宽裕
- 标注区域优化

### 📁 多案例管理与工作区
- 工作区概念管理
- 案例持久化存储
- 多案例并行分析

## 🔧 系统要求

- **操作系统：** Windows 10/11 (64位)
- **内存：** 4GB RAM (推荐 8GB)
- **存储空间：** 500MB 可用空间
- **显示器：** 1366×768 分辨率或更高

## 📞 技术支持

如果在使用过程中遇到问题，请通过以下方式获取支持：
- 在 GitHub 仓库提交 Issue
- 提供详细的问题描述和复现步骤

---

**感谢您使用奇门遁甲工作台，祝您学习进步！**